<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Helper function to confirm that inputs to the function css() are as expected,
and modify inputs if needed"><title>Helper function to confirm that inputs to the function css() are as expected,
and modify inputs if needed — checkCssInputs • cssr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Helper function to confirm that inputs to the function css() are as expected,
and modify inputs if needed — checkCssInputs"><meta property="og:description" content="Helper function to confirm that inputs to the function css() are as expected,
and modify inputs if needed"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cssr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gregfaletto/cssr-project/tree/main/cssr/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Helper function to confirm that inputs to the function <code>css()</code> are as expected,
and modify inputs if needed</h1>
      
      <div class="d-none name"><code>checkCssInputs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Helper function to confirm that inputs to the function <code><a href="css.html">css()</a></code> are as expected,
and modify inputs if needed</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">checkCssInputs</span><span class="op">(</span></span>
<span>  <span class="va">X</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">lambda</span>,</span>
<span>  <span class="va">clusters</span>,</span>
<span>  <span class="va">fitfun</span>,</span>
<span>  <span class="va">sampling_type</span>,</span>
<span>  <span class="va">B</span>,</span>
<span>  <span class="va">prop_feats_remove</span>,</span>
<span>  <span class="va">train_inds</span>,</span>
<span>  <span class="va">num_cores</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>X</dt>
<dd><p>An n x p numeric matrix (preferably) or a data.frame (which will
be coerced internally to a matrix by the function model.matrix) containing
p &gt;= 2 features/predictors.</p></dd>


<dt>y</dt>
<dd><p>The response; can be anything that takes the form of an
n-dimensional vector, with the ith entry corresponding to the ith row of X.
Typically (and for default fitfun = cssLasso), y should be an n-dimensional
numeric vector.</p></dd>


<dt>lambda</dt>
<dd><p>A tuning parameter or set of tuning parameters that may be used
by the feature selection method <code>fitfun</code>. In the default case when
<code>fitfun = cssLasso</code>, lambda should be a numeric: the penalty to use for each
lasso fit. (<code><a href="css.html">css()</a></code> does not require lambda to be any particular object because
for a user-specified feature selection method <code>fitfun</code>, lambda can be an
arbitrary object. See the description of <code>fitfun</code> below.)</p></dd>


<dt>clusters</dt>
<dd><p>A list of integer vectors; each vector should contain the
indices of a cluster of features (a subset of <code>1:p</code>). (If there is only one
cluster, clusters can either be a list of length 1 or an integer vector.)
All of the provided clusters must be non-overlapping. Every feature not
appearing in any cluster will be assumed to be unclustered (that is, they
will be treated as if they are in a "cluster" containing only themselves). If
clusters is a list of length 0 (or a list only containing clusters of length
1), then <code><a href="css.html">css()</a></code> returns the same results as stability selection (so the
returned <code>feat_sel_mat</code> will be identical to <code>clus_sel_mat</code>). Names for the
clusters will be needed later; any clusters that are not given names in the
provided list will be given names automatically by <code><a href="css.html">css()</a></code>. #' CAUTION: if
the provided X is a data.frame that contains a categorical feature with more
than two levels, then the resulting matrix made from model.matrix will have a
different number of columns than the provided data.frame, some of the feature
numbers will change, and the clusters argument will not work properly (in the
current version of the package). To get correct results in this case, please
use model.matrix to convert the data.frame to a numeric matrix on your own,
then provide this matrix and cluster assignments with respect to this matrix.
Default is <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> (so no clusters are specified).</p></dd>


<dt>fitfun</dt>
<dd><p>A function; the feature selection function used on each
subsample by cluster stability selection. This can be any feature selection
method; the only requirement is that it accepts the arguments (and only the
arguments) X, y, and lambda and returns an integer vector that is a subset of
1:p. For example, fitfun could be best subset selection or forward stepwise
selection or LARS and lambda could be the desired model size; or fitfun could be the
elastic net and lambda could be a length-two vector specifying lambda and
alpha. Default is cssLasso, an implementation of lasso (relying on the R
package glmnet), where lambda must be a positive numeric specifying the L1
penalty for the lasso.</p></dd>


<dt>sampling_type</dt>
<dd><p>A character vector; either "SS" or "MB". For "MB",
all B subsamples are drawn randomly (as proposed by Meinshausen and Bühlmann
2010). For "SS", in addition to these B subsamples, the B complementary pair
subsamples will be drawn as well (see Faletto and Bien 2022 or Shah and
Samworth 2013 for details). Default is "SS", and "MB" is not supported yet.</p></dd>


<dt>B</dt>
<dd><p>Integer or numeric; the number of subsamples. Note: For
sampling.type=="MB" the total number of subsamples will be <code>B</code>; for
sampling_type="SS" the number of subsamples will be <code>2*B</code>. Default is 100
for sampling_type="MB" and 50 for sampling_type="SS".</p></dd>


<dt>prop_feats_remove</dt>
<dd><p>Numeric; if prop_feats_remove is greater than 0,
then on each subsample, each feature is randomly dropped from the design
matrix that is provided to fitfun with probability prop_feats_remove
(independently across features). That is, in a typical subsample,
prop_feats_remove*p features will be dropped (though this number will vary).
This is similar in spirit (but distinct from) extended stability selection
(Beinrucker et. al. 2016); see their paper for some of the benefits of
dropping features (besides increasing computational speed and decreasing
memory requirements). For sampling_type="SS", the features dropped in
each complementary pair of subsamples are identical in order to ensure that
the theoretical guarantees of Faletto and Bien (2022) are retained within
each individual pair of subsamples. (Note that this feature is not
investigated either theoretically or in simulations by Faletto and Bien
2022). Must be between 0 and 1. Default is 0.</p></dd>


<dt>train_inds</dt>
<dd><p>Optional; an integer or numeric vector containing the
indices of observations in X and y to set aside for model training by the
function getCssPreds after feature selection. (This will only work if y is
real-valued, because getCssPreds using ordinary least squares regression to
generate predictions.) If train_inds is not provided, all of the observations
in the provided data set will be used for feature selection.</p></dd>


<dt>num_cores</dt>
<dd><p>Optional; an integer. If using parallel processing, the
number of cores to use for parallel processing (num_cores will be supplied
internally as the mc.cores argument of parallel::mclapply).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A named list with the following elements:</p>
<dl><dt>feat_names</dt>
<dd><p>A
character vector containing the column names of X (if the provided X
had column names). If the provided X did not have column names, feat_names
will be NA.</p></dd>
 <dt>X</dt>
<dd><p>The provided X, converted to a matrix if it was
originally provided as a data.frame, and with feature names removed if they
had been provided.</p></dd>
<dt>clusters</dt>
<dd><p>A list of integer vectors; each vector
will contain the indices of a cluster of features. Any duplicated clusters
provided in the input will be removed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gregory Faletto, Jacob Bien</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://gregoryfaletto.com/" class="external-link">Gregory Faletto</a>, <a href="http://faculty.marshall.usc.edu/jacob-bien/" class="external-link">Jacob Bien</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

